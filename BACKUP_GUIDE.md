# 项目备份与恢复指南 (Project Backup & Restore Guide)

本文档说明如何管理、使用和恢复项目的备份。

## 1. 备份包含的内容

备份程序会自动复制项目中的所有核心代码和配置文件，但**排除**以下不需要备份的大型文件夹：
- `node_modules/` (依赖包，可以通过 `npm install` 重新安装)
- `.git/` (版本控制历史)
- `.next/` (构建缓存)
- `backups/` (避免递归备份备份文件夹)
- `tmp/`, `.gemini/` (临时文件)

## 2. 备份位置

所有备份都存储在项目根目录下的 `backups` 文件夹中。
文件夹命名格式为：`backup_YYYYMMDD_HHMM` (例如：`backup_20251125_2030`)

## 3. 如何创建新备份

您可以通过运行以下命令随时创建新的备份：

```bash
node scripts/create-backup.js
```

## 4. 如何恢复备份

如果您需要恢复到某个备份版本，请按照以下步骤操作：

### 方法 A：手动复制（推荐）

1. 打开备份文件夹：`e:\项目\私募可视化\private-fund-visualization\backups\`
2. 找到您想要恢复的备份文件夹（例如 `backup_20251125_2030`）。
3. 将该文件夹内的**所有内容**复制。
4. 粘贴到项目根目录 `e:\项目\私募可视化\private-fund-visualization\`，并选择**覆盖**所有文件。
5. 恢复后，建议重新运行依赖安装以确保环境一致：
   ```bash
   npm install
   ```

### 方法 B：使用命令行

假设您要恢复 `backup_20251125_2030`：

1. **警告**：这将覆盖当前项目中的文件。
2. 运行复制命令（PowerShell）：
   ```powershell
   Copy-Item -Path ".\backups\backup_20251125_2030\*" -Destination ".\" -Recurse -Force
   ```

## 5. 注意事项

- 恢复备份会覆盖当前的修改，请在恢复前确认是否需要保存当前进度。
- 数据库文件 `data/funds.db` 也会被备份。如果您在备份后添加了新数据，恢复备份将导致这些新数据丢失。建议在恢复前单独备份当前的数据库文件。

---
*文档生成日期: 2025-11-25*
